---
lang: zh-CN
title: Dartè¯­æ³•
description: Dart
---

# Dart

å¦‚æœä½ å·²ç»æ­å»ºå¥½ç¯å¢ƒï¼š

æˆ‘ä»¬ä¸€åˆ‡å­¦ä¹ å¼€å§‹äºä¸€ä¸ªå…¥å£æ–¹æ³•ï¼šä¸ç”¨æ·±ç©¶ï¼Œå®ƒå°±æ˜¯è¿™æ ·å¼€å§‹çš„ï¼š

```dart
main(){
  print('ä½ å¥½');//ç»“æŸè¯­å¥å¿…é¡»è¦åˆ†å·
}
/*å¦ä¸€ç§å†™æ³•*/
/* viod ï¼šæ·»åŠ voidæ—¶æ²¡æœ‰è¿”å›å€¼*/ 
void main(){
  print('ä½ å¥½');
}
```

## å˜é‡çš„ä¸¤ç§ç±»å‹

ç›®æ ‡ï¼š

- äº†è§£ `å¼±ç±»å‹` `å¼ºç±»å‹`
- å¸¸è§ `å¼ºç±»å‹` æœ‰å“ªäº›
- å¦‚ä½•é€‰ç€ä½•æ—¶ç”¨é‚£ç§ç±»å‹


#### å¼±ç±»å‹

1. var

å¯ä»¥ä¸é¢„å…ˆå®šä¹‰å˜é‡ç±»å‹ ï¼Œè‡ªåŠ¨ä¼šç±»å‹æ¨å€’ï¼ˆå³ä»»ä½•ç±»å‹ï¼‰ï¼›

```dart
//é€šè¿‡varå®šä¹‰å˜é‡
var a;
a = 'cc';
a = 123;
a = true;
a = {'key': 'val123'};
a = ['abc'];

//é”™è¯¯å†™æ³•
//var a int = 5;æŠ¥é”™â€”â€”varåå°±ä¸è¦å†™ç±»å‹ ï¼Œ å†™äº†ç±»å‹ ä¸è¦var

```

æ³¨æ„å‘½åè§„åˆ™ï¼š

```dart
var str1='2134214';   //æ­£ç¡®



var 2str='xxx';  //é”™è¯¯   æ³¨æ„ï¼šdartå˜é‡æ ‡è¯†ç¬¦å¼€å¤´ä¸èƒ½æ˜¯æ•°å­—


  
var if='124214'; //é”™è¯¯   æ³¨æ„:æ ‡è¯†ç¬¦ä¸èƒ½æ˜¯ä¿ç•™å­—å’Œå…³é”®å­—ã€‚  


//å˜é‡çš„åå­—æ˜¯åŒºåˆ†å¤§å°å†™çš„å¦‚: ageå’ŒAgeæ˜¯ä¸åŒçš„å˜é‡ã€‚åœ¨å®é™…çš„è¿ç”¨ä¸­,ä¹Ÿå»ºè®®,ä¸è¦ç”¨ä¸€ä¸ªå•è¯å¤§å°å†™åŒºåˆ†ä¸¤ä¸ªå˜é‡ã€‚
var age=20;  

var Age=30;


//æ ‡è¯†ç¬¦(å˜é‡åç§°)ä¸€å®šè¦è§åæ€æ„ ï¼šå˜é‡åç§°å»ºè®®ç”¨åè¯ï¼Œæ–¹æ³•åç§°å»ºè®®ç”¨åŠ¨è¯ 

var username="zhangsan";

var price=20;
```

2. Object

åŠ¨æ€ä»»æ„ç±»å‹ï¼Œç¼–è¯‘é˜¶æ®µæ£€æŸ¥ç±»å‹

```dart

Object a = 'aa';
a = 123;
a = [222];
a.p()

```

3. dynamic

åŠ¨æ€ä»»æ„ç±»å‹ï¼Œç¼–è¯‘é˜¶æ®µä¸æ£€æŸ¥æ£€æŸ¥ç±»å‹

```dart
dynamic a = '1113';
a = 123;
a = [1111];
a.p();
```

#### æ¯”è¾ƒ var ä¸ dynamicã€Object

å”¯ä¸€åŒºåˆ« var å¦‚æœæœ‰åˆå§‹å€¼ï¼Œç±»å‹è¢«é”å®š


#### å¼ºç±»å‹

å£°æ˜åï¼Œç±»å‹è¢«é”å®š

```dart
String a;
a = 'cc';//æ­£ç¡®

a = 123;//æŠ¥ç±»å‹é”™è¯¯ï¼Œå› ä¸ºå®šä¹‰æ—¶æ˜¯Stringè€Œä¸æ˜¯int
```

å¸¸è§çš„ç±»å‹ï¼š

|     åç§°     |     è¯´æ˜      |
| :----------: | :-----------: |
|     num      |     æ•°å­—      |
|     int      |     æ•´å‹      |
|    double    |     æµ®ç‚¹      |
|     bool     |     å¸ƒå°”      |
|    String    |    å­—ç¬¦ä¸²     |
| StringBuffer | å­—ç¬¦ä¸² buffer |
|   DateTime   |   æ—¶é—´æ—¥æœŸ    |
|   Duration   |   æ—¶é—´åŒºé—´    |
|     List     |     åˆ—è¡¨      |
|     Sets     |  æ— é‡å¤é˜Ÿåˆ—   |
|     Maps     |    kv å®¹å™¨    |
|     enum     |     æšä¸¾      |

```dart
String a = 'CYR';
int i = 123;
double d = 0.12;
bool b = true;
DateTime dt = new DateTime.now();
List l = [ a, i, d, b, dt];
```

#### é»˜è®¤å€¼

ä¸€åˆ‡éƒ½æ˜¯ Object , å˜é‡å£°æ˜åé»˜è®¤éƒ½æ˜¯ null

```dart
var a;
String a;
print(a);
assert(a == null);
```

> `assert` æ£€æŸ¥ç‚¹å‡½æ•°ï¼Œå¦‚æœä¸ç¬¦åˆæ¡ä»¶ç›´æ¥æŠ›å‡ºé”™è¯¯å¹¶ç»ˆæ­¢ç¨‹åºè¿›ç¨‹

#### å¦‚ä½•ä½¿ç”¨

- åœ¨å†™ API æ¥å£çš„æ—¶å€™ï¼Œè¯·ç”¨ `å¼ºç±»å‹`ï¼Œä¸€æ—¦ä¸ç¬¦åˆçº¦å®šï¼Œæ¥æ”¶æ•°æ®æ—¶èƒ½æ–¹ä¾¿æ’æŸ¥æ•…éšœ
- ä½ åœ¨å†™ä¸ªå°å·¥å…·æ—¶ï¼Œå¯ä»¥ç”¨ `å¼±ç±»å‹`ï¼Œè¿™æ ·ä»£ç å†™èµ·æ¥å¾ˆå¿«ï¼Œç±»å‹è‡ªåŠ¨é€‚åº”



## å¸¸é‡

ç›®æ ‡ï¼š

- å¸¸é‡çš„å®šä¹‰æ–¹å¼
- `final` `const` çš„åŒºåˆ«

ç®€å•æ¥è¯´ï¼Œæ‰€è°“å¸¸é‡ï¼Œå°±æ˜¯åˆå§‹åŒ–åæ°¸è¿œä¸æ”¹çš„é‡

#### å®šä¹‰

1. ç±»å‹å£°æ˜å¯ä»¥çœç•¥

```dart
final String a = 'cyr';
final a = 'cyr';

const String a = 'cyr';
const a = 'cyr';
```

#### åˆå§‹åä¸èƒ½å†èµ‹å€¼

```dart
final a = 'cc';
a = 'abc';//é”™è¯¯

const a = 'cc';
a = 'abc';//é”™è¯¯
```

#### ä¸èƒ½å’Œ var åŒæ—¶ä½¿ç”¨

```dart
final var a = 'cc';
const var a = 'cc';
```

#### const èµ‹å€¼ ç”³æ˜å¯çœç•¥

```dart
const List ls = const [11, 22, 33];
const List ls = [11, 22, 33];
```

#### åŒºåˆ«

##### éœ€è¦ç¡®å®šçš„å€¼

```dart
final dt = DateTime.now();

const dt = const DateTime.now();
```

- `const`å€¼ä¸å˜ ä¸€å¼€å§‹å°±å¾—èµ‹å€¼

- `final` å¯ä»¥å¼€å§‹ä¸èµ‹å€¼ åªèƒ½èµ‹ä¸€æ¬¡ ; è€Œ`final`ä¸ä»…æœ‰`const`çš„ç¼–è¯‘æ—¶å¸¸é‡çš„ç‰¹æ€§ï¼Œæœ€é‡è¦çš„å®ƒæ˜¯è¿è¡Œæ—¶å¸¸é‡ï¼Œå¹¶ä¸”`final`æ˜¯æƒ°æ€§åˆå§‹åŒ–ï¼Œå³åœ¨è¿è¡Œæ—¶ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰æ‰åˆå§‹åŒ–;

```dart
const PI=3.14159;
PI=123.1243; //é”™è¯¯çš„å†™æ³• å¸¸é‡ä¸å¯ä»¥ä¿®æ”¹
print(PI);

final a;//æƒ°æ€§åˆå§‹åŒ–
a = new DateTime.now();   //æ­£ç¡®
print(a); //2021-06-30 14:52:55.615161

const a=new DateTime.now();   //é”™è¯¯
```

#### ä¸å¯å˜å¯ä¼ é€’

```dart
final List ls = [11, 22, 33];
ls[1] = 44;

const List ls = [11, 22, 33];
ls[1] = 44;
```

#### å†…å­˜ä¸­é‡å¤åˆ›å»º

```dart
final a1 = [11 , 22];
final a2 = [11 , 22];
print(identical(a1, a2));//false

const a1 = [11 , 22];
const a2 = [11 , 22];
print(identical(a1, a2));//true
```

## æ•°å€¼

ç›®æ ‡ï¼š

- æ•°å€¼ç±»å‹ `int`ã€`double`ã€`num`
- æ•°å€¼è¡¨ç¤ºæ³• åè¿›åˆ¶ã€åå…­è¿›åˆ¶
- ç§‘å­¦è®¡æ•°æ³•
- æ•°å€¼è½¬æ¢
- ä½è¿ç®—

#### æ•°å€¼ç±»å‹

1. int

æ•´æ•°å€¼ï¼Œå…¶å–å€¼é€šå¸¸ä½äº -253 å’Œ 253 ä¹‹é—´ã€‚

`å»ºè®®æ…¢æ…¢å†çœ‹è¿™ä¸ªï¼š`[å®˜æ–¹ï¼šint class](https://api.dart.dev/stable/2.0.0/dart-core/int-class.html)

2. double

64-bit (åŒç²¾åº¦) æµ®ç‚¹æ•°ï¼Œç¬¦åˆ IEEE 754 æ ‡å‡†ã€‚

`å»ºè®®æ…¢æ…¢å†çœ‹è¿™ä¸ªï¼š`[å®˜æ–¹ï¼šdouble class](https://api.dart.dev/stable/2.0.0/dart-core/double-class.html)

3. num

int å’Œ double éƒ½æ˜¯ num çš„å­ç±»ã€‚

`å»ºè®®æ…¢æ…¢å†çœ‹è¿™ä¸ªï¼š`[å®˜æ–¹ï¼šnum class](https://api.dart.dev/stable/2.0.0/dart-core/num-class.html)


#### æ•°å€¼è¡¨ç¤ºæ³• åè¿›åˆ¶ã€åå…­è¿›åˆ¶

```dart
int a = 1001;
int b = 0xABC;//2748
print([a,b]);
```

#### ç§‘å­¦è®¡æ•°æ³•

```dart
num a = 21.2e3;
print([a]);//[21200.0]
```

#### æ•°å€¼è½¬æ¢

```dart
//String => int
//String => double
int a = int.parse('123');
double b = double.parse('1.223');

//int => String
//double => String
String a = 123.toString();
String b = 1.223.toString();
print([a, b]);

// double -> int
double a = 1.8;
int b = a.toInt();
print(b);
```

#### ä½è¿ç®—

1. & ä¸è¿ç®—

åŒæ—¶ 1 æ‰è¡Œ

```dart
1 0 1 0          10
0 0 1 0          2
--------
0 0 1 0          2


var a = 10;
var b = 2;
print(a & b);//2
```

2. `|`æˆ–ä½è¿ç®—

æœ‰ä¸€ä¸ª 1 å°±è¡Œ

```dart
1 0 1 0          10
0 0 1 0          2
--------
1 0 1 0          10

var a = 10;
var b = 2;
print(a | b);
```

å¯ä»¥ç”¨åœ¨å¸¸é‡ç»„åˆ

```dart
const USE_LEFT = 0x1;
const USE_TOP = 0x2;
const USE_LEFT_TOP = USE_LEFT | USE_TOP;
var result = USE_LEFT | USE_TOP;
print(result);//3
assert(USE_LEFT_TOP == result);
```

3. `~` éè¿ç®—

äºŒè¿›åˆ¶æ•°é€ä½è¿›è¡Œé€»è¾‘éè¿ç®—

```dart
0 1 0 0 1          +9 äºŒè¿›åˆ¶ æœ€é«˜ä½ 0 æ•´æ•° 1 è´Ÿæ•°
0 0 1 1 0          è¡¥ç 
1 1 0 0 1          å–å
1 1 0 1 0          åŠ 1
--------
1 1 0 1 0          -10

var a = 9;
print(~a);
```

4. `^` å¼‚æˆ–

ä¸ç›¸åŒçš„æ‰å‡º 1

```dart
1 0 1 0          10
0 0 1 0          2
--------
1 0 0 0          8

var a = 10;
var b = 2;
print(a ^ b);
```

5. ç§»ä½è¿ç®—ç¬¦

`<<` å·¦ç§»

```dart
0 0 0 1          1 äºŒè¿›åˆ¶
0 0 1 0          å·¦ç§»ä¸€ä½ 2
0 1 0 0          å·¦ç§»ä¸€ä½ 4
1 0 0 0          å·¦ç§»ä¸€ä½ 8

//å‘å·¦ç§»åŠ¨ä¸€ä½
var a = 1 << 1;
print(a);
```

6. `>>` å³ç§»

```dart
1 0 0 0          8 äºŒè¿›åˆ¶
0 1 0 0          å³ç§»ä¸€ä½ 4
0 0 1 0          å³ç§»ä¸€ä½ 2
0 0 0 1          å³ç§»ä¸€ä½ 1
//å‘å³ç§»åŠ¨ä¸€ä½
var a = 8 >> 1;
print(a);
```

## å¸ƒå°”

ç›®æ ‡ï¼š

- å¸ƒå°” å£°æ˜ã€æ¯”è¾ƒã€é»˜è®¤å€¼
- æ–­è¨€ã€assetã€isEmptyã€isNaN
- é€»è¾‘æ“ä½œç¬¦ &&ã€||ã€!
- å…³ç³»è¿ç®—ç¬¦ == != > >= < <=

#### å£°æ˜

ä¸ºäº†ä»£è¡¨å¸ƒå°”å€¼ï¼ŒDart æœ‰ä¸€ä¸ªåå­—ä¸º bool çš„ç±»å‹ã€‚ åªæœ‰ä¸¤ä¸ªå¯¹è±¡æ˜¯å¸ƒå°”ç±»å‹çš„ï¼štrue å’Œ false æ‰€åˆ›å»ºçš„å¯¹è±¡ï¼Œ è¿™ä¸¤ä¸ªå¯¹è±¡ä¹Ÿéƒ½æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚

```dart
bool a;
print(a);
```

åªæœ‰ true å¯¹è±¡æ‰è¢«è®¤ä¸ºæ˜¯ trueã€‚ æ‰€æœ‰å…¶ä»–çš„å€¼éƒ½æ˜¯ flaseã€‚

```dart
String name = 'cyr';
if(name) {//æ­¤å¤„é”™è¯¯
  print('this is name');
}
```

#### assert æ–­è¨€

```dart
var a = true;
assert(a);

var name = '';
assert(name.isEmpty);
assert(name.isNotEmpty);

var num = 0 / 0;
assert(num.isNaN);
```
> æ³¨æ„ï¼š æ–­è¨€åªåœ¨æ£€æŸ¥æ¨¡å¼ä¸‹è¿è¡Œæœ‰æ•ˆï¼Œå¦‚æœåœ¨ç”Ÿäº§æ¨¡å¼ è¿è¡Œï¼Œåˆ™æ–­è¨€ä¸ä¼šæ‰§è¡Œã€‚

#### é€»è¾‘è¿ç®—ç¬¦

1. `&&` é€»è¾‘ä¸

```dart
bool a = true;
bool b = true;
assert(a && b);
```

2. `||` é€»è¾‘æˆ–

```dart
bool a = true;
bool b = false;
assert(a || b);
```

3. `!` é€»è¾‘é

```dart
bool a = true;
bool b = !a;
print(b);
```

#### å…³ç³»è¿ç®—ç¬¦

1. `==` ç­‰äº

```dart
if(a == b) {}
```

2. `!=` ä¸ç­‰äº

```dart
if(a != b){}
```

3. `>` å¤§äº

```dart
if(a > b){}
```

4. `>=` å¤§äºæˆ–ç­‰äº

```dart
if(a >= b) {}
```

5. `<` å°äº

```dart
if(a < b){}
```

6. `<=` å°äºæˆ–ç­‰äº

```dart
if(a <= b){}
```

## å­—ç¬¦ä¸²

ç›®æ ‡

- å£°æ˜æ–¹å¼
- å­—ç¬¦ä¸²æ¨¡æ¿
- å­—ç¬¦ä¸²è¿æ¥
- è½¬ä¹‰æ“ä½œ
- å…¶å®ƒå¸¸ç”¨è¿ç®—

#### å•å¼•å·æˆ–è€…åŒå¼•å·

```dart
String a = 'cyr';
String b = "cyr";
```

#### å­—ç¬¦ä¸²æ¨¡æ¿

```dart
var a = 123;
String b = 'cye : ${a}';
print(b);
```
#### å­—ç¬¦ä¸²è¿æ¥

```dart
var a = 'hello' + ' ' + 'cyr';
var a = 'hello'' ''cyr';
var a = 'hello'   ' '     'cyr';
var a = 'hello'
' '
'cyr';
var a = '''
hello word
this is multi line
''';
var a = """
hello word
this is multi line
""";
print(a);
```

#### è½¬ä¹‰ç¬¦å·

```dart
var a = 'hello word \n this is multi line';
print(a);
```

#### å–æ¶ˆè½¬ä¹‰

```dart
var a = r'hello word \n this is multi line';
print(a);
```

#### æœç´¢

```dart
var a = 'web site tech';
print(a.contains('cc'));
print(a.startsWith('web'));
print(a.endsWith('tech'));
print(a.indexOf('site'));
```

#### æå–æ•°æ®

```dart
print(a.substring(0,5));
var b = a.split(' ');
print(b.length);
print(b[0]);
```

#### å¤§å°å†™è½¬æ¢

```dart
print(a.toLowerCase());//å°å†™
print(a.toUpperCase());//å¤§å†™
```

#### è£å‰ª åˆ¤æ–­ç©ºå­—ç¬¦ä¸²

```dart
print('    hello word     '.trim());
print(''.isEmpty);
```

#### æ›¿æ¢éƒ¨åˆ†å­—ç¬¦

```dart
print('hello word word!'.replaceAll('word', 'ss'));
```

#### å­—ç¬¦ä¸²åˆ›å»º

```dart
var sb = StringBuffer();
sb..write('hello word!')
..write('my')
..write(' ')
..writeAll(['web', 'site', 'https://baidu.com']);
print(sb.toString());
```

## æ—¥æœŸå’Œæ—¶é—´

ç›®æ ‡ï¼š

- å£°æ˜
- UTC æ—¶é—´
- å…¬å…ƒæ—¶é—´
- æ—¶é—´æˆ³
- è§£ææ ‡å‡†æ—¶é—´
- æ—¶é—´è¿ç®—

#### å£°æ˜

```dart
var now = new DateTime.now();
print(now);
var d = new DateTime(2018, 10, 10, 9, 30);
print(d);
```

#### åˆ›å»ºæ—¶é—´ UTC

- [è¦ç¿»å¢™ï¼šUTC åè°ƒä¸–ç•Œæ—¶](https://zh.wikipedia.org/wiki/%E5%8D%8F%E8%B0%83%E4%B8%96%E7%95%8C%E6%97%B6)
- [è¦ç¿»å¢™ï¼šåŸå­æ—¶](https://zh.wikipedia.org/wiki/%E5%8E%9F%E5%AD%90%E6%97%B6)
- [è¦ç¿»å¢™ï¼šåŸå­é’Ÿ](https://zh.wikipedia.org/wiki/%E5%8E%9F%E5%AD%90%E9%90%98)


#### è§£ææ—¶é—´ IOS 8601

- ISO 8601
- æ—¶åŒº
- æ—¶åŒºåˆ—è¡¨

```dart
var d1 = DateTime.parse('2018-10-10 09:30:30Z');
print(d1);
var d2 = DateTime.parse('2018-10-10 09:30:30+0800');
print(d2);
```

#### æ—¶é—´å¢å‡é‡

```dart
var d1 = DateTime.now();
print(d1);
print(d1.add(new Duration(minutes: 5)));
print(d1.add(new Duration(minutes: -5)));
```

#### æ¯”è¾ƒæ—¶é—´

```dart
var d1 = new DateTime(2018, 10, 1);
var d2 = new DateTime(2018, 10, 10);
print(d1.isAfter(d2));//false
print(d1.isBefore(d2));//true
var d1 = DateTime.now();
var d2 = d1.add(new Duration(milliseconds: 30));
print(d1.isAtSameMomentAs(d2));
```

#### æ—¶é—´å·®

```dart
var d1 = new DateTime(2018, 10, 1);
var d2 = new DateTime(2018, 10, 10);
var difference = d1.difference(d2);
print([difference.inDays, difference.inHours]);
```

#### æ—¶é—´æˆ³

```dart
var now = new DateTime.now();
print(now.millisecondsSinceEpoch);
print(now.microsecondsSinceEpoch);
```

## åˆ—è¡¨

ç›®æ ‡ï¼š

- åˆå§‹ã€å£°æ˜
- å¸¸ç”¨å±æ€§
- å¸¸ç”¨æ–¹æ³•

List æ˜¯ä¸€ä¸ªæœ‰åºåˆ—è¡¨

#### å£°æ˜

```dart
List<int> l = [];
l
..add(1)
..add(2)
..add(3);
print(l);
```

#### å±æ€§

|    åç§°    |     è¯´æ˜     |
| :--------: | :----------: |
|  isEmpty   |   æ˜¯å¦ä¸ºç©º   |
| isNotEmpty |  æ˜¯å¦ä¸ä¸ºç©º  |
|   first    |  ç¬¬ä¸€ä¸ªå¯¹è±¡  |
|    last    | æœ€åä¸€ä¸ªå¯¹è±¡ |
|   length   |     ä¸ªæ•°     |
|  reversed  |     åè½¬     |

```dart
var l = [1, 2, 3];
print(l.first);
print(l.last);
print(l.length);
print(l.isEmpty);
print(l.isNotEmpty);
print(l.reversed);
```

#### æ–¹æ³•

|    åç§°    |     è¯´æ˜     |
| :--------: | :----------: |
|    add     |     æ·»åŠ      |
|   addAll   |   æ·»åŠ å¤šä¸ª   |
|   insert   |     æ’å…¥     |
| insertAll  |   æ’å…¥å¤šä¸ª   |
|  indexOf   |     æŸ¥è¯¢     |
| indexWhere |  æŒ‰æ¡ä»¶æŸ¥è¯¢  |
|   remove   |     åˆ é™¤     |
|  removeAt  |  æŒ‰ä½ç½®åˆ é™¤  |
| fillRange  |  æŒ‰åŒºé—´å¡«å……  |
|  getRange  |  æŒ‰åŒºé—´è·å–  |
|  shuffle   | éšæœºå˜æ¢é¡ºåº |
|    sort    |     æ’åº     |
|  sublist   |    åˆ›å»ºå­    |

#### æ·»åŠ 

```dart
List<int> l = [];

l
  ..add(1)
  ..addAll([2, 3, 4, 5])
  ..insert(0, 6)
  ..insertAll(6, [6, 6])
  ;
```

#### æŸ¥è¯¢

```dart
print(l.indexOf(5));
print(l.indexWhere((it) => it == 4));
```

#### åˆ é™¤

```dart
l.remove(6);
print(l);
l.removeAt(5);
print(l);
```

#### Range

```dart
l.fillRange(0, 3, 9);
print(l.getRange(0, 5));
```

#### æ´—ç‰Œ

```dart
l.shuffle();
print(l);
l.shuffle();
print(l);
```

#### æ’åº

```dart
//æ•°å­—
l.sort();
print(l);
//æ—¥æœŸ
List<DateTime> dtList = new List();
dtList.addAll([
  DateTime.now(),
  DateTime.now().add(new Duration(days: -12)),
  DateTime.now().add(new Duration(days: -2))
  ]);
print(dtList);
dtList.sort((a, b) => a.compareTo(b));
print(dtList);
```

#### å¤åˆ¶å­åˆ—è¡¨

```dart
print(l);
var l2 = l.sublist(1,4);
print(l2);
```

#### æ“ä½œç¬¦

| åç§°  | è¯´æ˜  |
| :---: | :---: |
|   +   | è¿æ¥  |
|  []   | å–å€¼  |
|  []=  | èµ‹å€¼  |

```dart
var l1 = [1, 2, 3];
var l2 = [4, 5, 6];
print(l1 + l2);
l1[2] = 9;
print(l1[2]);
```

## Map

ç›®æ ‡ï¼š

- åˆå§‹ã€å£°æ˜
- å¸¸ç”¨å±æ€§
- å¸¸ç”¨æ–¹æ³•

#### å£°æ˜

1. key value å½¢å¼çš„é›†åˆ

```dart
var a = {'name': 'cc', 'web': 'www.baidu.com'};
```

2. æ¾æ•£

```dart
var a = new Map();
a['name'] = 'cc';
a['web'] = 'www.cc.tech';
a[0] = 'abc';
```

3. å¼ºç±»å‹

```dart
var b = new Map<int, String>();
b[0] = 'java';
b[1] = 'python';
```

#### åŸºæœ¬å±æ€§

|    åç§°    |     è¯´æ˜     |
| :--------: | :----------: |
|  isEmpty   |   æ˜¯å¦ä¸ºç©º   |
| isNotEmpty |  æ˜¯å¦ä¸ä¸ºç©º  |
|  keys	key  |     é›†åˆ     |
|   values   | values é›†åˆ  |
|   length   |     ä¸ªæ•°     |
|  entries   | åŠ å·¥æ•°æ®å…¥å£ |

```dart
print(a.isEmpty);
print(a.isNotEmpty);
print(a.keys);
print(a.values);
print(a.length);
print(a.entries);
```

#### å¸¸ç”¨æ–¹æ³•

|     åç§°      |     è¯´æ˜      |
| :-----------: | :-----------: |
|    addAll     |     æ·»åŠ       |
|  addEntries   |  ä»å…¥å£æ·»åŠ    |
|  containsKey  |  æŒ‰ key æŸ¥è¯¢  |
| containsValue | æŒ‰ value æŸ¥è¯¢ |
|     clear     |     æ¸…ç©º      |
|    remove     |   åˆ é™¤æŸä¸ª    |
|  removeWhere  |  æŒ‰æ¡ä»¶åˆ é™¤   |
|    update     |   æ›´æ–°æŸä¸ª    |
|   updateAll   |  æŒ‰æ¡ä»¶æ›´æ–°   |

1. addAll

```dart
b.addAll({'first': 'java', 'second': 'python'});
```

2. addEntries

```dart
b.addEntries(a.entries);
```

3. containsKey

```dart
print(a.containsKey('name'));
```

4. clear

```dart
b.clear();
```

5. remove

```dart
a.remove('name');
```

6. removeWhere

```dart
a.removeWhere((key,val) => key == 'name');
```

7. update

```dart
a.update('name', (val) => 'abc');
```

8. updateAll

```dart
a.updateAll((key, val) => "---$val---");
```

#### æ“ä½œç¬¦

| åç§°  | è¯´æ˜  |
| :---: | :---: |
|  []   | å–å€¼  |
|  []=  | èµ‹å€¼  |

```dart
print(a['name']);
a['name'] = 'abc';
```

## Set

ç›®æ ‡ï¼š

- åˆå§‹ã€å£°æ˜
- å¸¸ç”¨å±æ€§
- å¸¸ç”¨æ–¹æ³•

#### 1.è²å

`Set` æ˜¯ä¸€ä¸ªå…ƒç´ å”¯ä¸€çš„æœ‰åºé˜Ÿåˆ—

#### 2.é¬†æ•£

```dart
void main() {
var a = new Set();
a.add('java');
a.add('php');
a.add('python');
a.add('java');
a.add('sql');
a.add('swift');
a.add('dart');
print(a);
}
```

#### 3.å¼·é¡å‹

```dart
var b = new Set<String>();
b.addAll(['dart', 'c#', 'j#', 'e#']);
```

#### 4.åŸºæœ¬å±¬æ€§

|    åç§°    |    è¯´æ˜    |
| :--------: | :--------: |
|  isEmpty   |  æ˜¯å¦ä¸ºç©º  |
| isNotEmpty | æ˜¯å¦ä¸ä¸ºç©º |
|   first    |   ç¬¬ä¸€ä¸ª   |
|    last    |  æœ€åä¸€ä¸ª  |
|   length   |    ä¸ªæ•°    |

#### 5.å¸¸ç”¨æ–¹æ³•

|     åç§°     |         è¯´æ˜         |
| :----------: | :------------------: |
|    addAll    |         æ·»åŠ          |
|   contains   |       æŸ¥è¯¢å•ä¸ª       |
| containsAll  |       æŸ¥è¯¢å¤šä¸ª       |
|  difference  |       é›†åˆä¸åŒ       |
| intersection |         äº¤é›†         |
|    union     |         è”åˆ         |
|    lookup    | æŒ‰å¯¹è±¡æŸ¥è¯¢åˆ°è¿”å›å¯¹è±¡ |
|    remove    |       åˆ é™¤å•ä¸ª       |
|  removeAll   |       åˆ é™¤å¤šä¸ª       |
|    clear     |         æ¸…ç©º         |
|  firstWhere  |    æŒ‰æ¡ä»¶æ­£å‘æŸ¥è¯¢    |
|  lastWhere   |    æŒ‰æ¡ä»¶åå‘æŸ¥è¯¢    |
| removeWhere  |      æŒ‰æ¡ä»¶åˆ é™¤      |
|  retainAll   |      åªä¿ç•™å‡ ä¸ª      |
| retainWhere  |   æŒ‰æ¡ä»¶åªä¿ç•™å‡ ä¸ª   |

#### 6.ä¾‹å­

```dart
// b.addAll(['dart', 'c#', 'j#', 'e#']);
// print(b.contains('dart'));
// print(b.containsAll(['dart', 'swift']));
// print('b => $b');
// print(a.difference(b));
// print(a.intersection(b));
// print(b.lookup('dart'));
// print(b.union(a));
// b.remove('dart');
// b.removeAll(['dart','c#']);
// b.clear();
// print(b.firstWhere((it) => it == 'c#'));
// print(b.lastWhere((it) => it == 'c#'));
// b.removeWhere((it) => it == 'c#');
// b.retainAll(['e#']);
// b.retainWhere((it) => it == 'e#');
// b.retainWhere((it) {
//   bool ret = it == 'e#';
//   return ret;
// });
```

## Runes

ç›®æ¨™

- Runes
- åŸºç¡€çŸ¥è¯† å­—ç¬¦ç¼–ç  ASCIIã€Unicodeã€UTF-8ã€UTF-16ã€UTF-32

#### Runes

`Runes` å¯¹è±¡æ˜¯ä¸€ä¸ª 32ä½ å­—ç¬¦å¯¹è±¡ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå­—ã€‚
è¿™æ ·è®¾è®¡ä¹Ÿæ˜¯è€ƒè™‘å…¼å®¹ UTF-16 å››ä¸ªå­—èŠ‚çš„æƒ…å†µã€‚


#### length å’Œ runes.length æ¯”è¾ƒ

```dart
String a = 'ğŸ‘º';
print(a.length);
print(a.runes.length);

>> è¾“å‡º
2 // æ ‡è¯†å  2 ä¸ª 16 ä½å­—ç¬¦
1 // è¡¨ç¤ºå  1 ä¸ª 32 ä½å­—ç¬¦
```

#### æ“ä½œ 32-bit Unicode å­—ç¬¦

```dart

Runes b = new Runes('\u{1f596} \u6211');
var c = String.fromCharCodes(b);

æˆ–è€…

String c = '\u{1f596} \u6211'
```

#### è¿”å› 16-bit code units çš„ codeUnitAt codeUnits

```dart
var a = 'ğŸ‘º';
print(a.codeUnitAt(0));
print(a.codeUnits);

>> è¾“å‡º
55357           // ç¬¬ 1 ä½çš„ 10 è¿›åˆ¶æ•°å€¼
[55357, 56442]  // æ˜¾ç¤º 2 ä½çš„ 10 è¿›åˆ¶æ•°å€¼

```

#### è¿”å› 32-bit Unicode çš„ runes

```dart
var a = 'ğŸ‘º';
print(a.runes);

>> è¾“å‡º

(128122) // æ˜¾ç¤º 32 ä½çš„ 10 è¿›åˆ¶æ•°å€¼

```

#### String æ“ä½œæ•´ç†

|     åç§°      |           è¯´æ˜           |
| :-----------: | :----------------------: |
|  codeUnitAt   |   æŸä¸ªå­—ç¬¦çš„ç  10è¿›åˆ¶    |
| fromCharCodes | Runes è½¬ String å·¥å‚å‡½æ•° |
|     runes     |        è¿”å›å­—å¯¹è±¡        |


#### åŸºç¡€çŸ¥è¯†å­—ç¬¦é›†

## symbolã€enumã€comments

ç›®æ¨™

- symbol
- enum
- comments

#### ç¬¦å· Symbol

Dartè¯­è¨€çš„æ ‡è¯†ç¬¦ï¼Œåœ¨åå°„ä¸­ç”¨çš„å¾ˆæ™®åŠï¼Œç‰¹åˆ«æ˜¯å¾ˆå¤šå‘å¸ƒåŒ…éƒ½æ˜¯æ··æ·†åçš„ã€‚

```dart
import 'dart:mirrors';

Symbol libraryName = new Symbol('dart.core');
MirrorSystem mirrorSystem = currentMirrorSystem();
LibraryMirror libMirror = mirrorSystem.findLibrary(libraryName);
libMirror.declarations.forEach((s, d) => print('$s - $d'));
```

#### æšä¸¾ Enum

é€‚åˆç”¨åœ¨å¸¸é‡å®šä¹‰ï¼Œç±»å‹æ¯”è¾ƒå¾ˆæ–¹ä¾¿ã€‚

```dart

enum Status { none, running, stopped, paused }

Status.values.forEach((it) => print('$it - index: ${it.index}'));

```

#### æ³¨é‡Š Comments

åˆ†ç‚ºå–®è¡Œæ³¨é‡‹`//`å’Œå¤šè¡Œæ³¨é‡‹`/**/`ä»¥åŠæ–‡æª”æ³¨é‡‹`///`,æƒ³æ·±å…¥äº†è§£å»ºè®®å¯¹æ¯”stringä¸­çš„æ³¨é‡Šä½¿ç”¨ã€‚

## å‡½æ•° Function 

ç›®æ ‡

- å‡½æ•°å®šä¹‰
- å¯é€‰å‚æ•°
- é»˜è®¤å€¼
- å‘½åå‚æ•°
- å†…éƒ¨å®šä¹‰

#### å‡½æ•°å®šä¹‰

```dart
int add(int x) {
  return x + 1;
}

//è°ƒç”¨
add(1);
```

#### å¯é€‰å‚æ•°

```dart
int add(int x, [int y, int z]) {
  if (y == null) {
    y = 1;
  }
  if (z == null) {
    z = 1;
  }
  return x + y + z;
}

è°ƒç”¨
int(1, 2);
```

#### å¯é€‰å‚æ•° é»˜è®¤å€¼

```dart
int add(int x, [int y = 1, int z = 2]) {
  return x + y;
}

è°ƒç”¨
int(1, 2);
```


#### å‘½åå‚æ•° é»˜è®¤å€¼

```dart
int add({int x = 1, int y = 1, int z = 1}) {
  return x + y + z;
}

è°ƒç”¨
int(x: 1, y: 2);
```

#### å‡½æ•°å†…å®šä¹‰

```dart
void main(){
  int add(int x){
    return x+x;
  }
  print(add(1));
}
```

#### Funcation è¿”å›å‡½æ•°å¯¹è±¡

```dart
Function makeAdd(int x) {
  return (int y) => x + y;
}

//è°ƒç”¨
var add = makeAdd(1);
print(add(5));
```

## æ“ä½œç¬¦

ç›®æ ‡

- ä¼˜å…ˆçº§
- ç®—æœ¯æ“ä½œç¬¦
- ç›¸ç­‰ç›¸å…³çš„æ“ä½œç¬¦
- ç±»å‹åˆ¤å®šæ“ä½œç¬¦
- èµ‹å€¼æ“ä½œç¬¦
- é€»è¾‘æ“ä½œç¬¦
- ä½å’Œç§»ä½æ“ä½œç¬¦
- æ¡ä»¶è¡¨è¾¾å¼
- çº§è”æ“ä½œç¬¦

#### æ“ä½œç¬¦è¡¨

|   æè¿°   |                æ“ä½œç¬¦                |       |
| :------: | :----------------------------------: | :---: |
| åç¼€æ“ä½œ |       expr++ exprâ€“ () [] . ?.        |       |
| å‰ç¼€æ“ä½œ |    -expr !expr ~expr ++expr â€“expr    |       |
|   ä¹˜é™¤   |               * / % ~/               |       |
|   åŠ å‡   |                 + -                  |
|   ä½ç§»   |                << >>                 |       |
|  æŒ‰ä½ä¸  |                  &                   |       |
| æŒ‰ä½å¼‚æˆ– |                  ^                   |       |
|  æŒ‰ä½æˆ–  |                  \                   |       |
| ç±»å‹æ“ä½œ |         >= > <= < as is is!          |       |
|   ç›¸ç­‰   |                == !=                 |       |
|  é€»è¾‘ä¸  |                  &&                  |       |
|  é€»è¾‘æˆ–  |                  \                   |   \   |
| æ˜¯ä¸ºä¸ºç©º |                  ??                  |       |
| ä¸‰ç›®è¿ç®— |        expr1 ? expr2 : expr3         |       |
|   çº§è”   |                  ..                  |       |
|   èµ‹å€¼   | = *= /= ~/= %= += -= <<= >>= &= ^= \ | = ??= |

> ä¼˜å…ˆçº§é¡ºåº ä¸Šé¢å·¦è¾¹ ä¼˜å…ˆçº§é«˜äº å³è¾¹ä¸‹é¢

#### ç®—æœ¯æ“ä½œç¬¦

| æ“ä½œç¬¦ |          è§£é‡Š          |
| :----: | :--------------------: |
|   +    |          åŠ å·          |
|   â€“    |          å‡å·          |
| -expr  |          è´Ÿå·          |
|   *    |          ä¹˜å·          |
|   /    |          é™¤å·          |
|   ~/   | é™¤å·ï¼Œä½†æ˜¯è¿”å›å€¼ä¸ºæ•´æ•° |
|   %    |          å–æ¨¡          |

```dart
print(5/2);
print(5~/2);
print(5 % 2);
```

#### ç›¸ç­‰ç›¸å…³çš„æ“ä½œç¬¦

 | æ“ä½œç¬¦ |   è§£é‡Š   |
 | :----: | :------: |
 |   ==   |   ç›¸ç­‰   |
 |   !=   |   ä¸ç­‰   |
 |   >    |   å¤§äº   |
 |   <    |   å°äº   |
 |   >=   | å¤§äºç­‰äº |
 |   <=   | å°äºç­‰äº |

 #### ç±»å‹åˆ¤å®šæ“ä½œç¬¦

 | æ“ä½œç¬¦ |              è§£é‡Š              |
 | :----: | :----------------------------: |
 |   as   |            ç±»å‹è½¬æ¢            |
 |   is   | å¦‚æœå¯¹è±¡æ˜¯æŒ‡å®šçš„ç±»å‹è¿”å› True  |
 |  is!   | å¦‚æœå¯¹è±¡æ˜¯æŒ‡å®šçš„ç±»å‹è¿”å› False |


 ```dart
 int a = 123;
String b = 'cc';
String c = 'abc';
print(a as Object);
print(b is String);
print(c is! String);
```

#### æ¡ä»¶è¡¨è¾¾å¼


 |          æ“ä½œç¬¦           |                                         è§£é‡Š                                          |
 | :-----------------------: | :-----------------------------------------------------------------------------------: |
 | condition ? expr1 : expr2 | å¦‚æœ condition æ˜¯ trueï¼Œæ‰§è¡Œ expr1 (å¹¶è¿”å›æ‰§è¡Œçš„ç»“æœ)ï¼› å¦åˆ™æ‰§è¡Œ expr2 å¹¶è¿”å›å…¶ç»“æœã€‚ |
 |      expr1 ?? expr2       |           å¦‚æœ expr1 æ˜¯ non-nullï¼Œè¿”å›å…¶å€¼ï¼› å¦åˆ™æ‰§è¡Œ expr2 å¹¶è¿”å›å…¶ç»“æœã€‚            |

```dart
bool isFinish = true;
String txtVal = isFinish ? 'yes' : 'no';

bool isFinish;
isFinish = isFinish ?? false;
or
isFinish ??= false;
```

#### ä½å’Œç§»ä½æ“ä½œç¬¦

 | æ“ä½œç¬¦ | è§£é‡Š     |
 | :----: | :------- |
 |   &    | é€»è¾‘ä¸   |
 |        | é€»è¾‘æˆ–   |
 |   ^    | é€»è¾‘å¼‚æˆ– |
 | ~expr  | å–å     |
 |   <<   | å·¦ç§»     |
 |   >>   | å³ç§»     |

 #### çº§è”æ“ä½œç¬¦

 é“¾å¼è°ƒç”¨

 | æ“ä½œç¬¦ | è§£é‡Š                                                  |
 | :----: | :---------------------------------------------------- |
 |   ..   | å¯ä»¥åœ¨åŒä¸€ä¸ªå¯¹è±¡ä¸Š è¿ç»­è°ƒç”¨å¤šä¸ªå‡½æ•°ä»¥åŠè®¿é—®æˆå‘˜å˜é‡ã€‚ |


 ```dart
 StringBuffer sb = new StringBuffer();
sb
..write('hello')
..write('word')
..write('\n')
..writeln('doucafecat');
```

#### å…¶ä»–æ“ä½œç¬¦

| æ“ä½œç¬¦ | è§£é‡Š                                                                                                                 |
| :----: | :------------------------------------------------------------------------------------------------------------------- |
|   ()   | ä½¿ç”¨æ–¹æ³• ä»£è¡¨è°ƒç”¨ä¸€ä¸ªæ–¹æ³•                                                                                            |
|   []   | è®¿é—® List è®¿é—® list ä¸­ç‰¹å®šä½ç½®çš„å…ƒç´                                                                                  |
|   .    | è®¿é—® Member è®¿é—®å…ƒç´ ï¼Œä¾‹å¦‚ foo.bar ä»£è¡¨è®¿é—® foo çš„ bar æˆå‘˜                                                          |
|   ?.   | æ¡ä»¶æˆå‘˜è®¿é—® å’Œ . ç±»ä¼¼ï¼Œä½†æ˜¯å·¦è¾¹çš„æ“ä½œå¯¹è±¡ä¸èƒ½ä¸º nullï¼Œä¾‹å¦‚ foo?.bar å¦‚æœ foo ä¸º null åˆ™è¿”å› nullï¼Œå¦åˆ™è¿”å› bar æˆå‘˜ |

## æµç¨‹æ§åˆ¶è¯­å¥

ç›®æ ‡

- æ¡ä»¶åˆ¤æ–­
- å¾ªç¯æ§åˆ¶

#### if else

```dart
bool isPrint = true;
if (isPrint) {
  print('hello');
}
```

#### for

```dart
for (var i = 0; i < 5; i++) {
  print(i);
}
```

#### while

```dart
bool isDone = false;
while(!isDone) {
  print('is not done');
  isDone = true;
}
```

#### do while

```dart
bool isRunning = true;
do {
  print('is running');
  isRunning = false;
} while (isRunning);
```

#### switch case

```dart
String name = 'cat';
switch (name) {
  case 'cat':
    print('cat');
    break;
  default:
    print('not find');
}
```

#### break

```dart
num i = 1;
while(true) {
  print('${i} - run');
  i++;
  if(i == 5) {
    break;
  }
}
```

#### continue

```dart
for (var i = 0; i < 5; i++) {
  if (i < 3) {
    continue;
  }
  print(i);
}
```

#### continue æŒ‡å®šä½ç½®

```dart
String command = "close";
switch(command) {
  case "open":
    print("open");
    break;
  case "close":
    print("close");
    continue doClose;

  doClose:
  case "doClose":
    print("DO_CLOSE");
    break;

  default:
    print("-----");
}
```

#### å¼‚å¸¸

ç›®æ ‡

- é”™è¯¯ç±»å‹
- æŠ›å‡ºã€æ•è·

#### é”™è¯¯çš„ä¸¤ç§ç±»å‹

#### Exception ç±»

|              åç§°              |     è¯´æ˜     |
| :----------------------------: | :----------: |
|     DeferredLoadException      | å»¶è¿ŸåŠ è½½é”™è¯¯ |
|        FormatException         |   æ ¼å¼é”™è¯¯   |
| IntegerDivisionByZeroException | æ•´æ•°é™¤é›¶é”™è¯¯ |
|          IOException           |   IO é”™è¯¯    |
|     IsolateSpawnException      | éš”ç¦»äº§ç”Ÿé”™è¯¯ |
|        TimeoutException        |   è¶…æ—¶é”™è¯¯   |

#### Error ç±»

 |              åç§°               |       è¯´æ˜        |
 | :-----------------------------: | :---------------: |
 | AbstractClassInstantiationError | æŠ½è±¡ç±»å®ä¾‹åŒ–é”™è¯¯  |
 |          ArgumentError          |     å‚æ•°é”™è¯¯      |
 |         AssertionError          |     æ–­è¨€é”™è¯¯      |
 |           AsyncError            |     å¼‚æ­¥é”™è¯¯      |
 |            CastError            |     Cast é”™è¯¯     |
 |   ConcurrentModificationError   |   å¹¶å‘ä¿®æ”¹é”™è¯¯    |
 |    CyclicInitializationError    |   å‘¨æœŸåˆå§‹é”™è¯¯    |
 |        FallThroughError         | Fall Through é”™è¯¯ |
 |   JsonUnsupportedObjectError    |  json ä¸æ”¯æŒé”™è¯¯  |
 |        NoSuchMethodError        | æ²¡æœ‰è¿™ä¸ªæ–¹æ³•é”™è¯¯  |
 |         NullThrownError         |   Null é”™è¯¯é”™è¯¯   |
 |        OutOfMemoryError         |   å†…å­˜æº¢å‡ºé”™è¯¯    |
 |           RemoteError           |     è¿œç¨‹é”™è¯¯      |
 |       StackOverflowError        |   å †æ ˆæº¢å‡ºé”™è¯¯    |
 |           StateError            |     çŠ¶æ€é”™è¯¯      |
 |       UnimplementedError        |   æœªå®ç°çš„é”™è¯¯    |
 |        UnsupportedError         |    ä¸æ”¯æŒé”™è¯¯     |

 #### æŠ›å‡ºé”™è¯¯
 
 ```dart
 // Exception å¯¹è±¡
// throw new FormatException('è¿™æ˜¯ä¸€ä¸ªæ ¼å¼é”™è¯¯æç¤º');

// Error å¯¹è±¡
// throw new OutOfMemoryError();

// ä»»æ„å¯¹è±¡
// throw 'è¿™æ˜¯ä¸€ä¸ªå¼‚å¸¸';
```

 #### æ•è·é”™è¯¯

 ```dart
 // try {
//   // throw new FormatException('è¿™æ˜¯ä¸€ä¸ªæ ¼å¼é”™è¯¯æç¤º');
//   throw new OutOfMemoryError();
// } on OutOfMemoryError {
//   print('æ²¡æœ‰å†…å­˜äº†');
// } catch (e) {
//   print(e);
// }
```

 #### é‡æ–°æŠ›å‡ºé”™è¯¯

 ```dart
 // try {
//   throw new OutOfMemoryError();
// } on OutOfMemoryError {
//   print('æ²¡æœ‰å†…å­˜äº†');
//   rethrow;
// } catch (e) {
//   print(e);
// }
```

 #### Finallyæ‰§è¡Œ

 ```dart
 // try {
//   throw new OutOfMemoryError();
// } on OutOfMemoryError {
//   print('æ²¡æœ‰å†…å­˜äº†');
//   rethrow;
// } catch (e) {
//   print(e);
// } finally {
//   print('end');
// }
```

## ç±»

ç›®æ ‡

- å®šä¹‰ã€ä½¿ç”¨ç±»
- æ„é€ å‡½æ•°
- ç®€åŒ–æ„é€ 
- åˆå§‹åŒ–åˆ—è¡¨
- å‘½åæ„é€ å‡½æ•°
- é‡å®šå‘æ„é€ å‡½æ•°


#### å®šä¹‰ã€ä½¿ç”¨ç±»

```dart
class Point {
}

var p = new Point();

```

#### æ„é€ å‡½æ•°

```dart
class Point {
  num x;
  num y;
  Point(num x, num y){
    this.x = x;
    this.y = y;
  }
}

var p = new Point(1, 2);
print([p.x, p.y]);
```

#### ç®€åŒ–æ„é€ 

```dart

class Point {
  num x;
  num y;
  Point(this.x, this.y);
}

var p = new Point(1, 2);
print([p.x, p.y]);
```

#### åˆå§‹åŒ–åˆ—è¡¨

```dart
class Point {
  num x;
  num y;
  var origin;
  Point(this.x, this.y): origin = {x:x, y:y};
}

var p = new Point(1, 2);
print([p.x, p.y, p.origin]);

```

#### å‘½åæ„é€ å‡½æ•°

```dart
class Point {
  num x;
  num y;
  Point.fromJson(Map json) {
    x = json['x'];
    y = json['y'];
  }
}

var p = new Point.fromJson({"x": 1, "y": 2});
print([p.x, p.y]);
```

#### é‡å®šå‘æ„é€ å‡½æ•°

```dart

class Point {
  num x;
  num y;
  Point(this.x, this.y);
  Point.fromJson(Map json) : this(json['x'], json['y']);
}

var p = new Point.fromJson({"x": 1, "y": 2});
print([p.x, p.y]);
```

## getã€set

getter å’Œ setter çš„å¥½å¤„æ˜¯ï¼Œä½ å¯ä»¥å¼€å§‹ä½¿ç”¨å®ä¾‹å˜é‡ï¼Œåæ¥ ä½ å¯ä»¥æŠŠå®ä¾‹å˜é‡ç”¨å‡½æ•°åŒ…è£¹èµ·æ¥ï¼Œè€Œè°ƒç”¨ä½ ä»£ç çš„åœ°æ–¹ä¸éœ€è¦ä¿®æ”¹


å®šä¹‰ï¼š

```dart
class People {
  String _name;

  set pName(String value) {
    _name = value;
  }

  String get pName {
    return 'people is ${_name}';
  }
}

var p = new People();
p.pName = 'cc';
print(p.pName);
```

#### ç®€åŒ– get set

```dart
class People {
  String _name;

  set pName(String value) => _name = value;

  String get pName => 'people is ${_name}';
}
```

## é™æ€æˆå‘˜

ç›®æ ‡

- é™æ€å˜é‡
- é™æ€æ–¹æ³•

#### é™æ€å˜é‡ static å®šä¹‰

```dart
class People {
  static String name = 'cc';
}

print(People.name);

```

#### å‡½æ•°å†…éƒ¨è®¿é—®

å®ä¾‹åŒ–åçš„ç±»ä¹Ÿå¯ä»¥è®¿é—®è¯¥é™æ€å˜é‡

```dart
class People {
  static String name = 'cc';
  void show() {
    print(name);
  }
}

var p = new People();
p.show();
```

#### ä¸èƒ½ç”¨ this

å› ä¸ºé™æ€å˜é‡å®é™…ä¸Šå­˜åœ¨äºç±»ä¸­,è€Œä¸æ˜¯å®ä¾‹æœ¬èº«

```dart
class People {
  static String name = 'cc';
  void show() {
    print(this.name);
  }
}
```

#### é™æ€æ–¹æ³•

é™æ€æ–¹æ³•å¯ä»¥é€šè¿‡å¤–éƒ¨ç›´æ¥è®¿é—®

```dart
class People {
  static String name = 'cc';
  static void printName() {
    print(name);
  }
}


People.printName();

```

1. å®ä¾‹åŒ–åå°†æ— æ³•é€šè¿‡å¤–éƒ¨ç›´æ¥è°ƒç”¨ static æˆå‘˜
2. é™æ€æˆå‘˜ä¸å®ä¾‹æˆå‘˜æ˜¯åˆ†å¼€çš„, é™æ€æˆå‘˜å¤„äºç±»çš„å®šä¹‰ä½“ä¸­, å®ä¾‹æˆå‘˜å¤„äºç±»çš„å®ä¾‹ä¸­
ä»£ç 

## abstract æŠ½è±¡

ç›®æ ‡

- æŠ½è±¡ ç±»ã€å‡½æ•°
- æ¥å£æ–¹å¼ä½¿ç”¨
- ç»§æ‰¿æ–¹å¼ä½¿ç”¨

#### abstract ç±»ã€å‡½æ•°ã€æˆå‘˜

```dart
abstract class Person {
  static const String name = 'abc';
  void printName(){
    print(name);
  }
}
```

#### ä¸èƒ½ç›´æ¥ new å®ä¾‹åŒ–

```dart
var p = Person();
p.printName();
```

> Dart 2 å¼€å§‹ new å¯ä»¥ä¸å†™ï¼Œæé«˜é˜…è¯»ä½“éªŒ

#### ç»§æ‰¿æ–¹å¼ä½¿ç”¨

```dart
class Teacher extends Person {
}
//å®ä¾‹
var user = Teacher();
user.printName();
```

#### æ¥å£æ–¹å¼ä½¿ç”¨

```dart
abstract class Person {
  static const String name = '';
  void printName();
}

class Student implements Person {
  String name = 'this is student';
  void printName() {
    print(name);
  }
}

//å®ä¾‹
var user = Student();
user.printName();
```

## interface æ¥å£

ç›®æ ‡

- å®ç°æ¥å£
- implements å¤šæ¥å£

> Dart ä¸­æ²¡æœ‰ interface å…³é”®å­—

#### å®ç°æ¥å£

```dart
void main() {
  var p = AndroidPhone();
  p.startup();
  p.shutdown();
}

abstract class IPhone {
  void startup();
  void shutdown();
}

class AndroidPhone implements IPhone {
  void startup() {
    print('AndroidPhone å¼€æœº');
  }
  void shutdown() {
    print('AndroidPhone å…³æœº');
  }
}
```

> æ¥å£ç”¨é€”çš„æŠ½è±¡ç±» è¯·ç”¨å­—æ¯ `I` å¼€å¤´ , å¦‚ `IPhone`

#### ä»ä¸€ä¸ªæ™®é€šç±»å±¥è¡Œæ¥å£

```dart
void main() {
  var p = AndroidPhone();
  p.startup();
  p.shutdown();
}

class Phone {
  void startup() {
    print('å¼€æœº');
  }
  void shutdown() {
    print('å…³æœº');
  }
}

class AndroidPhone implements Phone {
  void startup() {
    print('AndroidPhone å¼€æœº');
  }
  void shutdown() {
    print('AndroidPhone å…³æœº');
  }
}
```

> Dart å¯ä»¥ä»ä¸€ä¸ªæ™®é€šçš„ç±»å±¥è¡Œæ¥å£

#### å±¥è¡Œå¤šæ¥å£

```dart
void main() {
  var p = AndroidPhone();
  p.startup();
  p.shutdown();
}

class Phone {
  void startup() {
    print('å¼€æœº');
  }
  void shutdown() {
    print('å…³æœº');
  }
}

class Mobile {
  int signal;
}

class AndroidPhone implements Phone, Mobile {
  int signal;
  void startup() {
    print('AndroidPhone å¼€æœº');
  }
  void shutdown() {
    print('AndroidPhone å…³æœº');
  }
}
```

> Dart å¯ä»¥å±¥è¡Œå¤šä¸ªæ¥å£

## extends ç»§æ‰¿

ç›®æ ‡

- å®ç°ç»§æ‰¿
- ç»§æ‰¿æŠ½è±¡ç±»çš„é—®é¢˜
- ä¸å¯å¤šç»§æ‰¿
- çˆ¶ç±»è°ƒç”¨
- è°ƒç”¨çˆ¶ç±»æ„é€ 
- é‡å†™è¶…ç±»å‡½æ•°

#### å®ç°ç»§æ‰¿

```dart
void main() {
  var p = AndroidPhone();
  p.startup();
  p.shutdown();
}

class Phone {
  void startup() {
    print('å¼€æœº');
  }
  void shutdown() {
    print('å…³æœº');
  }
}

class AndroidPhone extends Phone {
}
```

#### ç»§æ‰¿æŠ½è±¡ç±»çš„é—®é¢˜

```dart
void main() {
  var p = AndroidPhone();
  p.startup();
  p.shutdown();
}

abstract class Phone {
  void startup();
  void shutdown();
}

class AndroidPhone extends Phone {
}
```

> æŠ½è±¡ç±»ä¸­åªå®šä¹‰æŠ½è±¡å‡½æ•°ï¼Œå®ä¾‹åŒ–è®¿é—®ä¼šæŠ¥é”™

#### çˆ¶ç±»è°ƒç”¨

```dart
void main() {
  var p = AndroidPhone();
  p.startup();
}

class Phone {
  void startup() {
    print('å¼€æœº');
  }
  void shutdown() {
    print('å…³æœº');
  }
}

class AndroidPhone extends Phone {
  void startup() {
    super.startup();
    print('AndroidPhone å¼€æœº');
  }
}
```

> super å¯¹è±¡å¯ä»¥è®¿é—®çˆ¶ç±»

#### è°ƒç”¨çˆ¶ç±»æ„é€ 

```dart
void main() {
  var p = AndroidPhone(12345678);
  p.showNumber();
}

class Mobile {
  int number;
  int signal;
  Mobile(this.number);
  void showNumber() {
    print('010-${number}');
  }
}

class AndroidPhone extends Mobile {
  AndroidPhone(int number) : super(number);
}
```

> å¯è°ƒç”¨çˆ¶ç±»çš„ æ„é€ å‡½æ•°

#### é‡å†™è¶…ç±»å‡½æ•°

```dart
void main() {
  dynamic p = AndroidPhone(12345678);
  p.showNumber111();
}

class Mobile {
  int number;
  int signal;
  Mobile(this.number);
  void showNumber() {
    print('010-${number}');
  }
}

class AndroidPhone extends Mobile {
  AndroidPhone(int number) : super(number);

  @override
  void noSuchMethod(Invocation mirror) {
    print('è¢«é‡å†™ noSuchMethod');
  }
}
```

> åœ¨é‡å†™çš„å‡½æ•°ä¸ŠåŠ ä¿®é¥°ç¬¦ @override

## å¤šç»§æ‰¿ç±» mixin

ç›®æ ‡

- å¤šç»§æ‰¿ç±»çš„å®ç°æ–¹å¼
- å‡½æ•°é‡åå†²çª

#### ç±»å¤šç»§æ‰¿

```dart
void main() {
  var xm = Xiaomi();
  xm.startup();
  xm.shutdown();
  xm.call();
  xm.sms();
}

class Phone {
  void startup() {
    print('å¼€æœº');
  }
  void shutdown() {
    print('å…³æœº');
  }
}

class AndroidPhone extends Phone {
  void startup() {
    super.startup();
    print('AndroidPhone å¼€æœº');
  }
}

class AndroidSystem {
  void call() {
    print('android call');
  }
}

class Weixin {
  void sms() {
    print('weixin sms');
  }
}

class Xiaomi extends AndroidPhone with AndroidSystem, Weixin {
  void startup() {
    super.startup();
    print('AndroidPhone å¼€æœº');
  }
}
```

> é‡‡ç”¨ `with ... , .... , ...` æ–¹å¼ `mixin` å…¥å¤šä¸ªç±»åŠŸèƒ½

#### å‡½æ•°é‡åå†²çª

```dart
void main() {
  var xm = Xiaomi();
  xm.startup();
  xm.shutdown();
  xm.sms();
}

class Phone {
  void startup() {
    print('å¼€æœº');
  }
  void shutdown() {
    print('å…³æœº');
  }
}

class AndroidPhone extends Phone {
  void startup() {
    super.startup();
    print('AndroidPhone å¼€æœº');
  }
}

class AndroidSystem {
  void call() {
    print('android call');
  }
}

class Weixin {
  void sms() {
    print('weixin sms');
  }
}

class QQ {
  void sms() {
    print('qq sms');
  }
}

class Xiaomi extends AndroidPhone with AndroidSystem, Weixin, QQ {
  void startup() {
    super.startup();
    print('AndroidPhone å¼€æœº');
  }
}
```

> é‡åˆ°ç›¸åŒåŠŸèƒ½çš„å‡½æ•°ï¼Œæœ€åè½½å…¥çš„ä¼šè¦†ç›–ä¹‹å‰çš„å‡½æ•°å®šä¹‰

## å·¥å‚å‡½æ•°

ç›®æ ‡

- å·¥å‚å‡½æ•°
- å·¥å‚æ„é€ å‡½æ•°

#### å·¥å‚å‡½æ•°

ç®€åŒ–ç±»å‹å®ä¾‹åŒ–

```dart
void main() {
  var xm = phoneFactory('ios');
  xm.startup();
  xm.shutdown();
}

class Phone {
  void startup() {
    print('å¼€æœº');
  }
  void shutdown() {
    print('å…³æœº');
  }
}

Phone phoneFactory(String name) {
  switch (name) {
    case 'android':
      return new AndroidPhone();
      break;
    default:
      return new IOSPhone();
  }
}

class AndroidPhone extends Phone {
  void startup() {
    super.startup();
    print('Android Phone å¼€æœº');
  }
}

class IOSPhone extends Phone {
  void startup() {
    super.startup();
    print('IOS Phone å¼€æœº');
  }
}s
```

#### å·¥å‚æ„é€ å‡½æ•°

```dart
void main() {
  var xm = Phone('android');
  xm.startup();
  xm.shutdown();
}

abstract class Phone {
  factory Phone(String name) {
    switch (name) {
      case 'android':
        return new AndroidPhone();
        break;
      default:
        return new IOSPhone();
    }
  }
  void startup();
  void shutdown();
}

class AndroidPhone implements Phone {
  void startup() {
    print('Android Phone å¼€æœº');
  }
  void shutdown() {
    print('Android å…³æœº');
  }
}

class IOSPhone implements Phone {
  void startup() {
    print('IOS Phone å¼€æœº');
  }
  void shutdown() {
    print('IOS å…³æœº');
  }
}
```

## åº“(åŒ…ç®¡ç†)

ç›®æ ‡

- æ ¸å¿ƒåº“
- å¤–éƒ¨åº“
- å¯¼å…¥æ¨¡å—

#### å¯¼å…¥æ ¸å¿ƒåº“


```dart
import 'dart:io';

void main() {
  var f = new File('README.md');
  var content = f.readAsStringSync();
  print(content);
}
```

#### å¯¼å…¥ç¬¬ä¸‰æ–¹åº“

ä¸€èˆ¬åœ¨flutterå®é™…é¡¹ç›®ä¸­ä½¿ç”¨,å­¦ä¹ dartæ—¶åªç®€å•ä»‹ç»ï¼Œå®é™…å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨ã€‚a

- ç¼–å†™ `pubspec.yaml`
```yaml
name: ducafecat
dependencies:
  dio: 1.0.9
```

ä½¿ç”¨Â·ï¼š
```dart
import 'package:dio/dio.dart';

void main() async {
  Dio dio = new Dio();
  Response<String> response = await dio.get("https://www.baidu.com");
  print(response.data);
}
```

#### å¯¼å…¥æ–‡ä»¶

```dart
import './phone.dart';

void main() {
  var xm = Phone('android');
  xm.startup();
  xm.shutdown();
}
```

#### å‰ç¼€

```dart
import './phone.dart';
import './phone1.dart' as pp;

void main() {
  var xm = Phone('android');
  xm.startup();
  xm.shutdown();

  var xm1 = pp.Phone('android');
  xm1.startup();
  xm1.shutdown();
}
```

#### ç­›é€‰åŒ…å†…å®¹

```dart
// import './phone.dart' hide AndroidPhone;
import './phone.dart' show IOSPhone;

void main() {
  var xm = IOSPhone();
  xm.startup();
  xm.shutdown();
}
```

> hide ç­›æ‰æŸå‡ ä¸ªåŒ…

> show åªä½¿ç”¨æŸå‡ ä¸ªåŒ…

#### å»¶è¿Ÿè½½å…¥

```dart
import './phone.dart' deferred as pp;

void main() async {
  var run = true;
  if (run) {
    await pp.loadLibrary();
    var xm = pp.Phone('android');
    xm.startup();
    xm.shutdown();
  }
}
```

>loadLibrary() æ–¹å¼åœ¨éœ€è¦çš„æ—¶å€™è½½å…¥åŒ…,å¯æé«˜ç¨‹åºå¯åŠ¨é€Ÿåº¦ç”¨åœ¨ä¸å¸¸ä½¿ç”¨çš„åŠŸèƒ½ç”¨åœ¨è½½å…¥æ—¶é—´è¿‡é•¿çš„åŒ…

## æ³›å‹

ç›®æ ‡

- ä½¿ç”¨æ³›å‹
- å®šä¹‰æ³›å‹
- é™åˆ¶æ³›å‹

#### æ³›å‹ä½¿ç”¨

```dart
main(List<String> args) {
  var l = List<String>();
  l.add('aaa');
  l.add('bbb');
  l.add('ccc');
  print(l);

  var m = Map<int, String>();
  m[1] = 'aaaa';
  m[2] = 'bbbb';
  m[3] = 'cccc';
  print(m);
}
```

> å¾ˆå¤šçš„å®¹å™¨å¯¹è±¡ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶éƒ½å¯ä»¥å®šä¹‰æ³›å‹ç±»å‹ã€‚

#### æ³›å‹å‡½æ•°

```dart
main(List<String> args) {
  var key = addCache('a00001', 'val.....');
  print(key);
}

K addCache<K, V>(K key, V val) {
  print('${key} ${val}');
  return key;
}
```

> æ³›å‹å¯ä»¥ç”¨åœ¨ä¸€ä¸ªå‡½æ•°çš„å®šä¹‰

#### æ„é€ å‡½æ•°æ³›å‹

```dart
main(List<String> args) {
  var p = Phone<String>('abc00000011111');
  print(p.mobileNumber);
}

class Phone<T> {
  final T mobileNumber;
  Phone(this.mobileNumber);
}
```

> è¿™æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨æ³›å‹çš„åœºæ™¯ï¼Œåœ¨ä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°ä¸­

#### æ³›å‹é™åˆ¶

```dart
main(List<String> args) {
  var ad = AndroidPhone();
  var p = Phone<AndroidPhone>(ad);
  p.mobile.startup();
}

class Phone<T extends AndroidPhone > {
  final T mobile;
  Phone(this.mobile);
}

class AndroidPhone {
  void startup() {
    print('Android Phone å¼€æœº');
  }
}
```

> é€šè¿‡ extends å…³é”®å­— å¯ä»¥é™å®šä½ å¯ä»¥æ³›å‹ä½¿ç”¨çš„ç±»å‹

#### å¼‚æ­¥ async

ç›®æ ‡

- è°ƒç”¨å¼‚æ­¥ ç­‰å¾…ã€é€’å½’
- å¼‚æ­¥è¿”å›å€¼

#### è°ƒç”¨å¼‚æ­¥ å›è°ƒ

```dart
import 'package:dio/dio.dart';

void main() {
  Dio dio = new Dio();
  dio.get("https://www.baidu.com").then((response) {
    print(response.data);
  });
}
```

> then çš„æ–¹å¼å¼‚æ­¥å›è°ƒ

#### è°ƒç”¨å¼‚æ­¥ ç­‰å¾…

```dart
import 'package:dio/dio.dart';

void main() async {
  Dio dio = new Dio();
  Response<String> response = await dio.get("https://www.baidu.com");
  print(response.data);
}
```

> `async` å†™åœ¨å‡½æ•°å®šä¹‰
> `await` å†™åœ¨å¼‚æ­¥è¯·æ±‚å¤´

#### å¼‚æ­¥è¿”å›å€¼

```dart
import 'package:dio/dio.dart';

void main() async {
  var content = await getUrl('https://www.baidu.com');
  print(content);
}

Future<String> getUrl(String url) async {
  Dio dio = new Dio();
  Response<String> response = await dio.get(url);
  return response.data;
}
```

> å®šä¹‰ `Future<T>` è¿”å›å¯¹è±¡

## æ³¨è§£ Metadata

ç›®æ ‡

- äº†è§£å†…ç½®æ³¨è§£ deprecated override
- è‡ªå®šä¹‰æ³¨è§£ï¼Œå¹¶ä½¿ç”¨åå°„å®ç°

#### ä½œç”¨

å®˜æ–¹ç§°ä¹‹ä¸º å…ƒæ•°æ® , å…¶å®åœ¨ java é‡Œå°±æ˜¯æ³¨è§£

ç®€åŒ–ä»£ç ç¼–å†™ï¼Œæ–¹ä¾¿é˜…è¯»ï¼Œå’Œé‡ç”¨

#### å†…ç½® deprecated

ç”¨æ¥æ³¨è§£ ä¸å»ºè®®ä½¿ç”¨ã€è€æ—§çš„ æˆå‘˜å¯¹è±¡

#### å†…ç½® override

è¡¨æ˜ä½ çš„å‡½æ•°æ˜¯æƒ³è¦†å†™è¶…ç±»çš„ä¸€ä¸ªå‡½æ•°

è¶…ç±»å°±æ˜¯è¢«ä½ é›†æˆçš„çˆ¶ç±»

```dart
class A {
  @override
  noSuchMethod(Invocation mirror) {
    print('æ²¡æœ‰æ‰¾åˆ°æ–¹æ³•');
  }
}

main(List<String> args) {
  dynamic a = new A();
  a.message();
}
```